<!--
  ~ NOTICE
  ~ This software was produced for the U.S. Government and is subject to the
  ~ Rights in Data-General Clause 5.227-14 (May 2014).
  ~ Copyright 2018 The MITRE Corporation. All rights reserved.
  ~ Approved for Public Release; Distribution Unlimited. Case 18-2165
  ~
  ~ This project contains content developed by The MITRE Corporation.
  ~ If this code is used in a deployment or embedded within another project,
  ~ it is requested that you send an email to opensource@mitre.org
  ~ in order to let us know where this software is being used.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<style>
    .muted { color: #555555; }
    #tag-button {margin-right: 5px}
    button.mr {
        margin-right: 5px;
    }
</style>
<div id="search-by-tag" class="template-container">
    <span class="h3">Showing results for: {{:: tag}}</span>
    <p class="muted" ng-if="::searchResults.length != tagCount">
        Currently viewing <span class="text-bold">{{:: searchResults.length}}</span> of the <span class="text-bold">{{:: tagCount}}</span>
        entries tagged with <span class="text-bold">{{:: tag}}</span> due to view permissions
    </p>
    <div class="control-button-container row" style="margin-top:35px !important;">
        <div ng-class="::{ 'invisible' : searchResults.length < 1 }">
            <select-all filtered-results="filteredResults" search-results="searchResults"></select-all>
            <!--<button class="btn btn-primary btn-sm" ng-click="selectAllBtn.onClick()">{{ selectAllBtn.name }}</button>-->
            <button class="btn btn-primary btn-sm pull-right" ng-click="openDeleteModal()" uib-tooltip="Nominate selected terms to be deleted" tooltip-animation="false" tooltip-placement="bottom">Delete</button>
            <button class="btn btn-primary btn-sm pull-right" id="tag-button" ng-click="openTagModal()" uib-tooltip="Nominate selected terms to have new tags" tooltip-animation="false" tooltip-placement="bottom">Tag</button>
            <button class="btn btn-primary btn-sm pull-right mr" ng-click="exportSelected()" uib-tooltip="Export selected terms" tooltip-animation="false" tooltip-placement="bottom">Export</button>
        </div>
    </div>
    <div id="results-container" class="term-list-container">
        <display-entry-list entries="filteredResults"></display-entry-list>
    </div>
    <div id="pagination-container" ng-hide="searchResults.length < 1">
        <uib-pagination ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" total-items="totalItems" max-size="3" force-ellipses="true" rotate="true" ng-change="setPage(currentPage)" items-per-page="itemsPerPage"></uib-pagination>
    </div>
    <h4 class="text-center" ng-show="searchResults.length < 1 && !querying && !initialQuery">No Results</h4>
    <h4 class="text-center" ng-show="querying"><i class="fa fa-refresh fa-spin fa-3x"></i></h4>
</div>
